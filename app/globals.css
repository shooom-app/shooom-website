/* Tailwind v4 â€“ must be first */
@import "tailwindcss";

/* Your site-wide utilities */
@import "./styles/neon.css";
@import "./styles/animations.css";

/* ===============================
   Base theme
   =============================== */
:root {
  --background: #0a0a0a;
  --foreground: #ededed;

  /* âœ… Canonical brand tokens (single source of truth) */
  --brand-red: #e11d48;   /* primary red from your logo gradient */
  --brand-red-2: #fb7185; /* lighter pink from your logo gradient */
  --brand-bg: #0a0709;

  /* ðŸ”— Aliases so existing code keeps working without refactors */
  --neon: var(--brand-red);        /* replaces previous hard-coded --neon */
  --neon-2: var(--brand-red-2);    /* replaces previous hard-coded --neon-2 */
  --neon-red: var(--brand-red);    /* FAQ and other sections reference this */

  /* Glow strengths (do NOT change) */
  --neon-shadow: rgba(255, 31, 87, 0.18);
  --neon-shadow-strong: rgba(255, 31, 87, 0.6);
  --neon-shadow-stronger: rgba(255, 31, 87, 0.85);
}
@media (prefers-color-scheme: light) {
  :root {
    --background: #ffffff;
    --foreground: #171717;
  }
}

html, body { height: 100%; }
body {
  margin: 0;
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;

  /* Prevent horizontal shift from decorative halos */
  overflow-x: clip;
}

/* ===============================
   How it works â€” borderless neon cards
   =============================== */
.hiw-card {
  position: relative;
  background: transparent;
  border-radius: 22px;
  padding: 18px 20px;
  box-shadow: none;
  transition: transform 0.35s ease, filter 0.35s ease;
  isolation: isolate;
}
.hiw-card::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background: radial-gradient(120px 80px at 25% 15%, rgba(255, 31, 87, 0.28), transparent 60%);
  opacity: 0;
  filter: blur(16px);
  z-index: -1;
  transition: opacity 0.35s ease, filter 0.35s ease;
}
.hiw-card:hover {
  transform: translateY(-4px);
  filter: drop-shadow(0 12px 24px var(--neon-shadow));
}
.hiw-card:hover::before { opacity: 0.9; filter: blur(22px); }

.hiw-icon { width: 54px; height: 54px; display: grid; place-items: center; }

/* ===============================
   Neon Icon Base (used by Search/GPS/Heart)
   =============================== */
.icon-neon {
  width: 54px;
  height: 54px;
  display: grid;
  place-items: center;
  /* soft SVG glow (each SVG defines <filter id="neonGlow">) */
  filter: url(#neonGlow);
}
.np-stroke {
  fill: none;
  stroke: url(#neonGrad);
  stroke-width: 2.75;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.icon-neon .spark {
  fill: url(#neonGrad);
  filter: drop-shadow(0 0 8px var(--neon-shadow-strong));
  opacity: .85;
  animation: np-spark 2.2s ease-in-out infinite;
}
.icon-neon .s1 { animation-delay: 0s; }
.icon-neon .s2 { animation-delay: .3s; }
.icon-neon .s3 { animation-delay: .6s; }
.icon-neon .s4 { animation-delay: .9s; }
.icon-neon .s5 { animation-delay: 1.2s; }
.icon-neon .s6 { animation-delay: 1.5s; }

@keyframes np-spark {
  0%, 100% { transform: translateY(0); opacity: .7; }
  50%      { transform: translateY(-1.5px); opacity: 1; }
}

/* Micro lift on hover */
.hiw-card:hover .icon-neon {
  transition: transform .3s ease;
  transform: translateY(-1px) scale(1.02);
}

/* ===============================
   SEARCH â€” radar sweep
   =============================== */
.neon-search .ring { stroke-width: 3.25; }
.neon-search .sweep {
  fill: none;
  stroke: url(#neonGrad);
  stroke-width: 2.25;
  stroke-linecap: round;
  stroke-dasharray: 40 140;
  transform-origin: 28px 28px;
  animation: ns-sweep 2.4s ease-in-out infinite;
  opacity: .9;
}
@keyframes ns-sweep {
  0%   { transform: rotate(0);   stroke-dashoffset: 0;   opacity: 0; }
  10%  { opacity: .9; }
  55%  { stroke-dashoffset: -90; }
  100% { transform: rotate(360deg); stroke-dashoffset: -180; opacity: 0; }
}

/* ===============================
   HOST â€” GPS pin + signal rings
   =============================== */
.neon-gps .dot {
  fill: url(#neonGrad);
  filter: drop-shadow(0 0 8px var(--neon-shadow-strong));
}
.neon-gps .pin { stroke-width: 3; }
.neon-gps .ring1,
.neon-gps .ring2,
.neon-gps .ring3 {
  fill: none;
  stroke: url(#neonGrad);
  stroke-width: 2;
  opacity: 0;
  transform-origin: 32px 48px;
  filter: drop-shadow(0 0 10px var(--neon-shadow-strong));
}
.neon-gps .ring1 { animation: gps-ping 1.8s ease-out 0s  infinite; }
.neon-gps .ring2 { animation: gps-ping 1.8s ease-out .3s infinite; }
.neon-gps .ring3 { animation: gps-ping 1.8s ease-out .6s infinite; }
@keyframes gps-ping {
  0%   { transform: scale(.8); opacity: .9; }
  80%  { opacity: .05; }
  100% { transform: scale(1.2); opacity: 0; }
}

/* ===============================
   MATCH â€” Heart beat + glow
   =============================== */
.neon-heart .heart {
  stroke-linejoin: round;
  filter: drop-shadow(0 0 10px var(--neon-shadow-strong));
}
.neon-heart .heart-fill {
  fill: url(#neonGrad);
  opacity: .10;
  transform-origin: 32px 32px;
  animation: heart-beat 1.5s ease-in-out infinite;
  filter: drop-shadow(0 0 14px var(--neon-shadow-strong));
}
@keyframes heart-beat {
  0%, 100% { transform: scale(1);   opacity: .10; }
  25%      { transform: scale(1.06); opacity: .22; }
  50%      { transform: scale(1.12); opacity: .30; }
  75%      { transform: scale(1.06); opacity: .22; }
}

/* ===============================
   Role Toggle (DJ â†”ï¸Ž Bar)
   =============================== */
.rolewrap {
  display: inline-grid;
  gap: 8px;
  user-select: none;
}
.rolelabels {
  display: grid;
  grid-template-columns: 1fr 1fr;
  font-size: 12px;
  letter-spacing: .02em;
  color: rgba(255,255,255,.55);
}
.rolelabels .rl.on { color: #fff; }

.roletoggle {
  position: relative;
  width: clamp(280px, 60vw, 420px);
  height: 64px;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.04),
    0 12px 28px rgba(255,0,32,.18);
  outline: none;
}
.roletoggle.bar { box-shadow:
  inset 0 0 0 1px rgba(255,255,255,.04),
  0 12px 28px rgba(255,0,32,.26); }

.rt-track {
  position:absolute; inset:0;
  border-radius: inherit;
  background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  pointer-events: none;
}
.rt-thumb {
  position: absolute;
  top: 6px;
  left: 6px; /* DJ position */
  width: calc(50% - 12px);
  height: calc(100% - 12px);
  border-radius: 999px;
  background: radial-gradient(120px 80px at 25% 15%, rgba(255,31,87,.28), transparent 60%), rgba(0,0,0,.45);
  box-shadow:
    0 6px 18px rgba(255,31,87,.22),
    inset 0 0 0 1px rgba(255,255,255,.08);
  transition: transform .35s cubic-bezier(.2,.8,.2,1), left .35s cubic-bezier(.2,.8,.2,1), background .3s ease;
  display: grid; place-items: center;
}
.roletoggle.bar .rt-thumb { left: calc(50% + 6px); }

.rt-ico { width: 26px; height: 26px; display:block; }
.rt-ico .stroke { fill: none; stroke: url(#neonGrad); stroke-width: 1.8; stroke-linecap: round; stroke-linejoin: round; }
.rt-ico .fill   { fill: url(#neonGrad); }

.rt-zones { position:absolute; inset:0; display:grid; grid-template-columns: 1fr 1fr; }
.rt-zones > span { cursor: pointer; }

@media (hover:hover) and (pointer:fine) {
  .roletoggle:hover .rt-thumb { transform: translateY(-1px); }
}
@media (prefers-reduced-motion: reduce) {
  .rt-thumb { transition: left .01s linear; }
}

/* Role theming hook via [data-role] */
main[data-role="dj"] .rolelabels .rl:first-child { color: #fff; }
main[data-role="bar"] .rolelabels .rl:last-child { color: #fff; }

/* ===============================
   Performance helpers
   =============================== */
.hiw-card .icon-neon * { animation-play-state: paused; }
@media (hover:hover) and (pointer:fine) {
  .hiw-card:hover .icon-neon * { animation-play-state: running; }
}
/* If you wrap the section in a container that toggles `.inview`, animations run when visible */
.play-when-visible.inview .icon-neon * { animation-play-state: running; }

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  .neon-search .sweep,
  .neon-gps .ring1, .neon-gps .ring2, .neon-gps .ring3,
  .neon-heart .heart-fill,
  .icon-neon .spark {
    animation: none !important;
  }
  .hiw-card .icon-neon * { animation-play-state: paused !important; }
}

/* ===== Role visibility helpers ===== */
.only-dj,
.only-bar { display: block; }

[data-role="dj"]  .only-bar { display: none !important; }
[data-role="bar"] .only-dj  { display: none !important; }

/* Optional: role-tinted accents */
/*
[data-role="dj"]  { --neon: #e11d48; }
[data-role="bar"] { --neon: #f43f5e; }
*/

/* Slow breathing neon pulse */
@keyframes neonPulse {
  0%, 100% { box-shadow: 0 0 12px rgba(220,38,38,0.55), 0 0 24px rgba(220,38,38,0.35); }
  50%      { box-shadow: 0 0 20px rgba(220,38,38,0.9),  0 0 40px rgba(220,38,38,0.6);  }
}
.animate-neonPulse { animation: neonPulse 2.2s ease-in-out infinite; }

/* One-shot flash that syncs with content transition */
@keyframes flashSync {
  0%   { transform: translateZ(0); filter: brightness(1.0); box-shadow: 0 0 0 rgba(220,38,38,0); }
  35%  { filter: brightness(1.2); box-shadow: 0 0 32px rgba(220,38,38,0.9); }
  100% { filter: brightness(1.0); box-shadow: 0 0 16px rgba(220,38,38,0.5); }
}
.animate-flashSync { animation: flashSync 0.38s cubic-bezier(0.22,1,0.36,1) 1; }

/* === Warm-Up Bubble (tuned) =============================== */
/* Keep for legacy bubble usage */
.bubble {
  width: clamp(340px, 48vmin, 640px);
  aspect-ratio: 1 / 1;
  border-radius: 9999px;
  position: relative;
  overflow: hidden;
  isolation: isolate;
  filter: drop-shadow(0 0 24px color-mix(in oklab, var(--neon) 35%, black));
  box-shadow:
    inset 0 0 48px color-mix(in oklab, var(--neon) 35%, transparent),
    0 0 96px color-mix(in oklab, var(--neon) 25%, transparent);
  border: 1px solid color-mix(in oklab, var(--neon) 28%, white 12%);
}
.bubble::before,
.bubble::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
}
.bubble::before {
  background:
    radial-gradient(120% 120% at 20% 20%, color-mix(in oklab, var(--neon) 90%, transparent) 0%, transparent 60%),
    radial-gradient(120% 120% at 80% 30%, color-mix(in oklab, var(--neon-2) 85%, transparent) 0%, transparent 55%),
    radial-gradient(140% 140% at 50% 80%, color-mix(in oklab, var(--neon) 65%, black 10%) 0%, transparent 65%),
    conic-gradient(from 0deg at 50% 50%, var(--neon), var(--neon-2), var(--neon));
  filter: blur(10px) saturate(130%);
  animation: swirl 18s ease-in-out infinite;
  mix-blend-mode: screen;
}
.bubble::after {
  --wave: radial-gradient(60% 12% at 50% 60%, rgba(255,255,255,0.16) 30%, transparent 60%) no-repeat;
  background:
    var(--wave),
    var(--wave),
    var(--wave);
  background-size: 140% 40%, 160% 36%, 180% 30%;
  background-position: 50% 60%, 45% 63%, 55% 66%;
  mask:
    radial-gradient(70% 70% at 50% 45%, rgba(0,0,0,0.9) 42%, rgba(0,0,0,0.6) 65%, transparent 100%);
  animation: slosh 6s ease-in-out infinite, shimmer 8s linear infinite;
  mix-blend-mode: plus-lighter;
}
@keyframes swirl {
  0%   { transform: translateY(0) rotate(0deg) scale(1); }
  25%  { transform: translateY(-1.5%) rotate(6deg) scale(1.02); }
  50%  { transform: translateY(0.5%) rotate(0deg) scale(0.995); }
  75%  { transform: translateY(1%) rotate(-6deg) scale(1.01); }
  100% { transform: translateY(0) rotate(0deg) scale(1); }
}
@keyframes slosh {
  0%,100% { background-position: 50% 60%, 45% 63%, 55% 66%; }
  50%     { background-position: 52% 63%, 47% 66%, 57% 69%; }
}
@keyframes shimmer {
  0%   { filter: brightness(1); }
  50%  { filter: brightness(1.08); }
  100% { filter: brightness(1); }
}
@media (prefers-reduced-motion: reduce) {
  .bubble::before,
  .bubble::after { animation: none !important; }
}



/* Neon Liquid Apple-Style */
:root {
  --slime: #ff2f5f;          /* main neon */
  --slime-light: #ff5f85;    /* highlight tone */
  --slime-dark: #cc1c44;     /* shadow tone */
}

/* Orb container */
.warmup-orb {
  width: clamp(320px, 45vmin, 560px);
  aspect-ratio: 1 / 1;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
  background: radial-gradient(circle at 50% 30%, rgba(255, 47, 95, 0.15), transparent 70%);
  box-shadow: 0 0 40px rgba(255, 47, 95, 0.35), inset 0 0 60px rgba(255, 47, 95, 0.25);
}

/* Orb SVG */
.orb-svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* Wave line highlight */
.wave-line {
  fill: none;
  stroke: url(#surfaceStroke);
  stroke-width: 6;
  filter: drop-shadow(0 0 12px rgba(255,255,255,0.4));
}

/* Orb label styling */
.orb-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: clamp(2rem, 5vw, 3rem);
  font-weight: 600;
  text-shadow: 0 0 18px rgba(255, 47, 95, 0.65);
}

/* ===== Shooom FAQ (Apple-smooth + red neon) ===== */

.faq h2 {
  letter-spacing: -0.02em;
}

.faq .faq-item:hover .neon-underline,
.faq .faq-item:focus-within .neon-underline {
  opacity: 1;
  transform: scaleX(1);
}

.faq .neon-underline {
  display: block;
  width: 100%;
  height: 2px;
  margin-top: 6px;
  background: radial-gradient(60% 60% at 50% 50%, var(--neon-red), transparent 70%);
  box-shadow:
    0 0 24px color-mix(in oklab, var(--neon-red) 70%, transparent),
    0 0 3px color-mix(in oklab, var(--neon-red) 80%, transparent);
  opacity: 0;
  transform-origin: left;
  transform: scaleX(0.3);
  transition: opacity .25s ease, transform .25s ease;
}

@media (prefers-reduced-motion: reduce) {
  .faq [role="region"] {
    transition: none !important;
    height: auto !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Smooth scrolling for in-page anchors like #warmup */
html { scroll-behavior: smooth; }

/* ===== Brand text utilities ===== */
.text-brand {
  color: var(--brand-red); /* solid red text */
}

.text-brand-underline {
  color: var(--brand-red);
  text-decoration: underline;
  text-decoration-color: var(--brand-red);
  text-underline-offset: 2px;
  text-decoration-thickness: 2px;
}

.text-brand-gradient {
  background: linear-gradient(90deg, var(--brand-red-2), var(--brand-red));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  filter: drop-shadow(0 0 8px var(--neon-shadow));
}

/* ===== DJ/Bar Toggle â€” Shazam-like heartbeat ===== */
:root { --hb-ease: cubic-bezier(.22,.61,.36,1); } /* iOS-smooth */

@keyframes toggleHeartbeatGlow {
  /* baseline */
  0%   {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.10),
      0 0 16px rgba(225,29,72,.45),
      0 0 36px rgba(225,29,72,.28);
  }

  /* lub (quick, strong) */
  10%  {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.18),
      0 0 28px rgba(225,29,72,.95),
      0 0 64px rgba(225,29,72,.60);
  }
  16%  { /* slight settle */
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.14),
      0 0 20px rgba(225,29,72,.55),
      0 0 44px rgba(225,29,72,.38);
  }

  /* dub (second beat, a touch softer) */
  22%  {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.16),
      0 0 24px rgba(225,29,72,.85),
      0 0 56px rgba(225,29,72,.50);
  }
  28%  { /* settle again */
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.12),
      0 0 18px rgba(225,29,72,.50),
      0 0 40px rgba(225,29,72,.32);
  }

  /* rest (quiet period) */
  60%  {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.10),
      0 0 14px rgba(225,29,72,.40),
      0 0 30px rgba(225,29,72,.24);
  }

  /* back to baseline */
  100% {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.10),
      0 0 16px rgba(225,29,72,.45),
      0 0 36px rgba(225,29,72,.28);
  }
}

.toggle-heartbeat {
  animation: toggleHeartbeatGlow 1.9s var(--hb-ease) infinite;
  will-change: box-shadow;
}

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  .toggle-heartbeat { animation: none !important; }
}

/* ===== Global Background (fixed, inherited on all pages) ===== */
.global-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: #000;
  pointer-events: none;
  overflow: hidden;
}

/* remove old blob base in favor of unified base below */

/* ===== Stationary, smoke-like red gradient background ===== */
/* Shared smoke base */
.smoke-layer {
  position: absolute;
  inset: -50%;
  border-radius: 50%;
  mix-blend-mode: screen;
  filter: blur(120px) saturate(140%);
  opacity: 0.4;
  animation: smokeFlow 60s linear infinite;
  will-change: transform, opacity, filter;
}

/* Individual layers (different colors + timings) */
.smoke1 {
  background: conic-gradient(
    from 0deg at 50% 50%,
    rgba(225,29,72,0.7),
    rgba(251,113,133,0.5),
    transparent 70%
  );
  animation-duration: 90s;
}
.smoke2 {
  background: radial-gradient(
    circle at 30% 40%,
    rgba(251,113,133,0.6),
    transparent 70%
  );
  animation-duration: 120s;
  opacity: 0.3;
}
.smoke3 {
  background: conic-gradient(
    from 90deg at 50% 50%,
    rgba(225,29,72,0.6),
    rgba(251,113,133,0.4),
    transparent 70%
  );
  animation-duration: 150s;
  opacity: 0.35;
}

/* Subtle swirling motion */
@keyframes smokeFlow {
  0%   { transform: rotate(0deg) scale(1);   opacity: 0.35; }
  25%  { transform: rotate(90deg) scale(1.05); opacity: 0.45; }
  50%  { transform: rotate(180deg) scale(1); opacity: 0.4; }
  75%  { transform: rotate(270deg) scale(1.08); opacity: 0.5; }
  100% { transform: rotate(360deg) scale(1);   opacity: 0.35; }
}

/* Motion safety */
@media (prefers-reduced-motion: reduce) {
  .smoke-layer { animation: none !important; }
}

/* Scrim to keep text legible */
.gb-scrim {
  position: absolute; inset: 0;
  background:
    radial-gradient(120% 120% at 50% 10%, rgba(0,0,0,0.0), rgba(0,0,0,0.3) 70%, rgba(0,0,0,0.6) 100%),
    radial-gradient(110% 110% at 50% 90%, rgba(0,0,0,0.0), rgba(0,0,0,0.3) 70%, rgba(0,0,0,0.6) 100%);
  pointer-events: none;
}

/* (old gb-float-* keyframes removed; not used) */


/* (legacy marquee implementation removed to prevent clipping conflicts) */


/* (old single-line marquee with mask-image removed) */

/* ===== Neon chips â€” Apple-modern glass + glow ===== */
.chip-neon {
	display: inline-flex;
	align-items: center;
	padding: 9px 16px;
	border-radius: 999px;
	font-size: 12px;
	letter-spacing: .02em;
	line-height: 1;
	user-select: none;
	-webkit-tap-highlight-color: transparent;

	/* subtle glass */
	background: color-mix(in oklab, #fff 3%, transparent);
	backdrop-filter: blur(6px);
	-webkit-backdrop-filter: blur(6px);

	/* neon outline using brand red */
	border: 1px solid color-mix(in oklab, var(--brand-red) 62%, white 10%);
	box-shadow:
		inset 0 0 0.5px rgba(255,255,255,0.25),
		0 0 12px color-mix(in oklab, var(--brand-red) 34%, transparent),
		0 0 28px color-mix(in oklab, var(--brand-red) 26%, transparent);

	color: rgba(255,255,255,0.96);
	text-shadow: 0 0 8px color-mix(in oklab, var(--brand-red) 24%, transparent);
	transition: transform .22s cubic-bezier(.22,.61,.36,1),
				  box-shadow .22s cubic-bezier(.22,.61,.36,1),
				  border-color .22s cubic-bezier(.22,.61,.36,1);
	will-change: transform, box-shadow;
}

.chip-neon:hover {
	transform: translateY(-1px) scale(1.015);
	border-color: color-mix(in oklab, var(--brand-red) 76%, white 8%);
	box-shadow:
		inset 0 0 0.5px rgba(255,255,255,0.32),
		0 0 16px color-mix(in oklab, var(--brand-red) 55%, transparent),
		0 0 36px color-mix(in oklab, var(--brand-red) 40%, transparent);
}

.chip-neon:focus-visible {
	outline: none;
	box-shadow:
		0 0 0 2px color-mix(in oklab, var(--brand-red) 50%, white 30%),
		0 0 24px color-mix(in oklab, var(--brand-red) 55%, transparent);
}


/* ===== Seamless neon marquee (3-segment stage) ===== */
.marquee {
  --duration: 32s;
  --seg: 800px;          /* JS sets exact width */
  --spacing: 14px;

  position: relative;
  overflow: visible;     /* allow neon glows to render */
  isolation: isolate;    /* new stacking context for safe glows */
  z-index: 200;          /* above normal content */
}

/* feather the edges WITHOUT clipping hover glows */
.marquee::before,
.marquee::after {
  content: "";
  position: absolute;
  top: 0; bottom: 0;
  width: 8rem;
  pointer-events: none;
  z-index: 201;          /* below chips, above background */
}
.marquee::before {
  left: 0;
  background: linear-gradient(to right, rgba(0,0,0,0.9), rgba(0,0,0,0));
}
.marquee::after {
  right: 0;
  background: linear-gradient(to left, rgba(0,0,0,0.9), rgba(0,0,0,0));
}

/* The moving rail holding 3 segments */
.marquee__stage {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing);
  white-space: nowrap;
  will-change: transform;
  animation: marquee-run var(--duration) linear infinite;
  transform: translate3d(0,0,0);    /* GPU */
  z-index: 202;          /* above feather overlays */
}

.marquee__segment {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing);
  margin: 0;
  padding: 0;
  list-style: none;
}

/* Move left by exactly one measured segment width. Because we have 3 segments,
   the reset happens while a full 2 segments remain onscreen -> no seam. */
@keyframes marquee-run {
  from { transform: translate3d(0, 0, 0); }
  to   { transform: translate3d(calc(var(--seg) * -1), 0, 0); }
}

/* Pause on hover (desktop) */
.marquee--pause-on-hover:hover .marquee__stage { animation-play-state: paused; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .marquee__stage { animation: none !important; }
}

/* Responsive spacing & tempo */
@media (max-width: 768px)  { .marquee { --spacing: 10px; --duration: 24s; } }
@media (min-width: 1280px) { .marquee { --spacing: 16px; --duration: 36s; } }

/* ===== Neon chips (keep hover clean, no clipping) ===== */
.chip-neon {
  display: inline-flex;
  align-items: center;
  padding: 9px 16px;
  border-radius: 999px;
  font-size: 12px;
  letter-spacing: .02em;
  line-height: 1;
  user-select: none;
  -webkit-tap-highlight-color: transparent;

  /* glass */
  background: color-mix(in oklab, #fff 3%, transparent);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  /* neon outline */
  border: 1px solid color-mix(in oklab, var(--brand-red) 62%, white 10%);
  box-shadow:
    inset 0 0 0.5px rgba(255,255,255,0.25),
    0 0 12px color-mix(in oklab, var(--brand-red) 34%, transparent),
    0 0 28px color-mix(in oklab, var(--brand-red) 26%, transparent);

  color: rgba(255,255,255,0.96);
  text-shadow: 0 0 8px color-mix(in oklab, var(--brand-red) 24%, transparent);
  transition:
    transform .22s cubic-bezier(.22,.61,.36,1),
    box-shadow .22s cubic-bezier(.22,.61,.36,1),
    border-color .22s cubic-bezier(.22,.61,.36,1);
  will-change: transform, box-shadow;
  position: relative;
  z-index: 203; /* top within marquee stack */
}

.chip-neon:hover {
  transform: translateY(-1px) scale(1.015);
  border-color: color-mix(in oklab, var(--brand-red) 76%, white 8%);
  box-shadow:
    inset 0 0 0.5px rgba(255,255,255,0.32),
    0 0 16px color-mix(in oklab, var(--brand-red) 55%, transparent),
    0 0 36px color-mix(in oklab, var(--brand-red) 40%, transparent);
}

.chip-neon:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px color-mix(in oklab, var(--brand-red) 50%, white 30%),
    0 0 24px color-mix(in oklab, var(--brand-red) 55%, transparent);
}

